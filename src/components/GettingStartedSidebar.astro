---
interface NavItem {
  href: string;
  label: string;
}

const base = import.meta.env.BASE_URL;

const navigation: NavItem[] = [
  { href: `${base}getting-started`, label: 'Installation' },
  { href: `${base}getting-started/repl`, label: 'Using the REPL' },
  { href: `${base}getting-started/uninstall`, label: 'Uninstall' },
];

const currentPath = Astro.url.pathname;
---

<aside class="w-64 shrink-0 hidden lg:block">
  <nav class="sticky top-20 space-y-8 pr-4 pb-8 max-h-[calc(100vh-5rem)] overflow-y-auto">
    <div>
      <h3 class="font-semibold text-lg opacity-50 uppercase tracking-wider mb-3 text-black dark:text-white">
        Installation
      </h3>
      <ul class="space-y-1.5">
        {navigation.map((item) => (
          <li>
            <a
              href={item.href}
              class:list={[
                'block px-3 py-1.5 rounded-lg text-base transition-all',
                currentPath === item.href
                  ? 'bg-black dark:bg-white text-white dark:text-black font-medium'
                  : 'opacity-60 hover:opacity-100 hover:bg-[#f5f5f5] dark:hover:bg-[#1a1a1a] text-black dark:text-white',
              ]}
            >
              {item.label}
            </a>
          </li>
        ))}
      </ul>
    </div>

    <!-- Link to full docs -->
    <div class="pt-4 border-t border-[#e5e5e5] dark:border-[#333333]">
      <a
        href={`${base}docs`}
        class="flex items-center gap-2 text-base opacity-60 hover:opacity-100 transition-opacity text-black dark:text-white"
      >
        <span>View full documentation</span>
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
        </svg>
      </a>
    </div>
  </nav>
</aside>
